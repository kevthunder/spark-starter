(function(){var t,e=[].slice,n=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};t=function(){function t(){}return t.elementKeywords=["extended","included"],t.prototype.tap=function(t){var e;return e=Array.prototype.slice.call(arguments),"function"==typeof t?t.apply(this,e.slice(1)):this[t].apply(this,e.slice(1)),this},t.prototype.callback=function(t){return null==this._callbacks&&(this._callbacks={}),null!=this._callbacks[t]?this._callbacks[t]:this._callbacks[t]=function(n){return function(){var i;return i=1<=arguments.length?e.call(arguments,0):[],n[t].call(n,i)}}(this)},t.extend=function(e){var i,l,r;for(i in e)r=e[i],n.call(t.elementKeywords,i)<0&&(this[i]=r);return null!=(l=e.extended)&&l.apply(this),this},t.include=function(e){var i,l,r;for(i in e)r=e[i],n.call(t.elementKeywords,i)<0&&(this.prototype[i]=r);return null!=(l=e.included)&&l.apply(this),this},t.property=function(t,e){var n;return n=t.charAt(0).toUpperCase()+t.slice(1),null!=e.default?this.prototype["_"+t]=e.default:this.prototype["_"+t]=null,null!=e.get&&e.get===!1||(null!=e.get?this.prototype["get"+n]=e.get:(null!=e.init&&(this.prototype["init"+n]=e.init),this.prototype["get"+n]=function(){return"function"==typeof this["init"+n]&&null==this["_"+t]&&(this["_"+t]=this["init"+n]()),this["_"+t]}),e.get=function(){return this["get"+n]()}),null!=e.set&&e.set===!1||(null!=e.set?this.prototype["set"+n]=e.set:(null!=e.change&&(this.prototype["change"+n]=e.change),null!=e.alter&&(this.prototype["alter"+n]=e.alter),this.prototype["set"+n]=function(e){var i;return"function"==typeof this["alter"+n]&&(e=this["alter"+n](e)),this["_"+t]!==e&&(i=this["_"+t],this["_"+t]=e,"function"==typeof this["change"+n]&&this["change"+n](i),"function"==typeof this.emitEvent&&this.emitEvent("changed"+n,[i])),this}),e.set=function(t){return this["set"+n](t)}),Object.defineProperty(this.prototype,t,e)},t.properties=function(t){var e,n,i;i=[];for(n in t)e=t[n],i.push(this.property(n,e));return i},t}(),"undefined"!=typeof Spark&&null!==Spark&&(Spark.Element=t),"undefined"!=typeof module&&null!==module?module.exports=t:(null==this.Spark&&(this.Spark={}),this.Spark.Element=t)}).call(this);